extends ../layout
block imports-main
  link(type="text/css" rel="stylesheet" href="/static/main/document/style.css")

block content-main
    .row
      .col-auto
        a(href=`${previousPage}`)
          .back-button Go Back
    if success === '1'
      .row
        .col-6.offset-2
          .outcome-msg.success-msg The fields were updated succesfully.
    else if success === '0'
      .row
        .col-6.offset-2
          .outcome-msg.error-msg There was an error updating the fields
    form(id="doc-form" method="POST")
      .row
        .col-12
      .row.document-details
        .col-12
          each field in document.fieldList
            .row.property
              .col-2.field.align-self-center= field.key.prettyTitleCase()
              .col-6.value.align-self-center.d-flex
                - var disabledInput = (field.inputType!=='text' && field.inputType!=='number' && field.inputType!=='checkbox')
                - var inptValue = field.inputType==='date' ? document.data[field.key].toISOString().substr(0, 10) : document.data[field.key]
                if (field.inputType === 'text' || field.inputType === 'number')
                  input.value-input.justify-content-start(name=field.key disabled=disabledInput type=`${field.inputType}` value=inptValue step="1")
                else if field.inputType === 'checkbox'
                  label.check-container
                    - var checked = document.data[field.key]
                    input.value-input(name=field.key type=`${field.inputType}` checked=checked value="true")
                    input.value-input(name=field.key type=`hidden` value="false")
                    span.checkmark
                else
                  input.value-input.justify-content-start(name=field.key disabled=disabledInput type=`${field.inputType}` value=inptValue step="1")
                  
      .row
        .col-auto.offset-2
          button.save-but(type="submit" disabled=false) Save changes